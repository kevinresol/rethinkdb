{'desc': 'Geo indexed changefeed operations',
 'table_variable_name': 'tbl',
 'tests': [{'ot': "partial({'created': 1})",
            'rb': "tbl.index_create('L', {geo: true})"},
           {'ot': '1', 'rb': 'tbl.index_wait().count'},
           {'def': 'obj11 = {id: "11", L: r.point(1,1)}'},
           {'def': 'obj12 = {id: "12", L: r.point(1,2)}'},
           {'def': 'obj21 = {id: "21", L: r.point(2,1)}'},
           {'def': 'obj22 = {id: "22", L: r.point(2,2)}'},
           {'rb': 'feed = tbl.get_intersecting(r.circle(r.point(1,1), 130000), {index: "L"}).get_field("id").changes(include_initial: true)'},
           {'ot': "partial({'errors': 0, 'inserted': 4})",
            'rb': 'tbl.insert([obj11, obj12, obj21, obj22])'},
           {'ot': 'bag([{"new_val" => "11", "old_val" => nil}, {"new_val" => "12", "old_val" => nil}, {"new_val" => "21", "old_val" => nil}])',
            'rb': 'fetch(feed, 3)'}]}
